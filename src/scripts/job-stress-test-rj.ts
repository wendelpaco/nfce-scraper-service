/* eslint-disable no-console */
import axios from "axios";

const urls = [
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250722784363000106650020004348439189091479|2|1|09|10.06|71644a38613138714464583153367750537a77664e4a58354d4f4d3d|2|4EBA1A28C74DDFCB860DBC50CFF176BF37537F17",
  "http://www4.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250629080946000600650070003185619007011939|2|1|25|24.98|2f5866505172526f6f6d7055302f2f6e7a64544632676443776b6f3d|1|A510E6E2ED63A6E28DB83FB9D48F79F5962C1ABD",
  "http://www4.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250728800001000563650170006412921003716601|2|1|3|2E7834E5FA52C0939BC76F3ED6360CA4D0D17FB6",
  "http://www4.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633130543005494650320002927281003411173|2|1|3|51A5492FFA32C5A52A94C948CB646C3463FDDEA6",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633304981001434651800002690291004310280|2|1|3|E70C57F65480F405CFD9C3CCB8738D13E7BE38FC",
  "http://nfe.sefaz.ba.gov.br/servicos/nfce/qrcode.aspx?p=29241202125266002725650020000915241002136918|2|1|4|44AC09973E646BA758913A3B7E77E664247292B2",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286007598650010003779831001296437|2|1|3|96B4DAAB97700B18EF7B0DC4F5D1FADF99154292",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286007598650110002489881011583725|2|1|3|9AEE97C9C4C51337F4D79669F601DA2B96C75FDF",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250646237314000103650050000721161006530134|2|1|1|01cc2ae20b4a2d5725916af263de255fb04b247a",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250429911559000902650030007895841007761990|2|1|2|4B7BAF6BB5FE42A686DDE6267D16CBDB17E9D3D4",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286007598650010003870219001475375|2|1|19|144.00|3|3A37C50EB927A75D635672463562DD9A076B85CB",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286007598650020003510099002189159|2|1|15|18.96|3|1A1F7AC651D2B454B313F7A4BEFE82F3D964EC2F",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286007598650030006015769003270274|2|1|18|51.31|3|3F4E853D06F3C14408AA9AE35C8C1A230BAF8C1B",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286000232650150007099441015154847|2|1|3|837FAC8E3279636AC8968535D0CF52379032E3E5",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286000232650150007098551015153016|2|1|3|13C0D35E419A35FED9972E70CEA31BE21A050A74",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286007598650020003481139002131947|2|1|01|254.60|3|75CAA4F9F73939FA8B0D0A7451C365323961E40B",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286005625650030000204391003453925|2|1|3|FBE1BB381A271BE034DCD30A0E4DADC4DA74B2C5",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533438250022560650210002863601117064173|2|1|3|fbd14d9db6359a986e41b37d4a8926afa4a23dce",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633381286007598650100004287319010182260|2|1|01|33.32|3|F43EEA6A713DDBB012FF21602C8E549FA132D013",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286005625650010004757651001475591|2|1|3|05A2E052D45FA12C473E0039ABB0A7CE136978E0",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286000232650180004362511018088765|2|1|3|965947950D47A575C65D1B107F2BDA783DFAE95E",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286007598650110002497691011599883|2|1|3|1772804701BF74152982373E936B768FBCD42B39",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250504653889000167650030000686059050605540|2|1|06|7.55||3|3CB70323BEB51C27CF3DCCA40BE352D3A4D55276",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250513750505000115659050000339919050293785|2|1|06|29.44|67666458666C62713747464C583470795664784B2B6C73382B51633D|1|CD982CC4903509BD9BCBCBB8E67D1E69F51F6C18",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533304981001434651970003098861004260906|2|1|3|E12142B7BA284A7CBAE51D6F8C511A0FB618C79F",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286007598650010003803461001342876|2|1|3|D0EA2C2DA52B543E98533091A329A6FD1653DF1D",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250509102271000122650060002770339559566638|2|1|04|31.80",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250505879152000634650020001644851773097425|2|1|1|08f360a50ce2db7bd0c2d754ef271941181c2450",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250517261661003199650010002887021079492748|2|1|3|F51834F834429A75AD83ED955ABFE91BE596E2A2",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250533381286007598650110002489881011583725|2|1|3|9AEE97C9C4C51337F4D79669F601DA2B96C75FDF",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250633304981001272651110002091401007360100|2|1|3|7B573E6DF4CF81217A50C4239931549463FD1CAA",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250707258484000201651060002060361424522751|2|1|2|3ACEEB9426A442846C9C89514AA0487F030B4DF0",
  "https://consultadfe.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250716575340000180651180007138561007154993|2|1|1|05c6a7d966ead50855521082fba6a9e1dabcb80b",
  "http://www4.fazenda.rj.gov.br/consultaNFCe/QRCode?p=33250701910935000178651220002349301264601359|2|1|1|d31977725cda6007dc21d4e2b165c7c1eb321b80",
];

const AUTH_TOKEN = "5b289e19-c6f0-4f27-bd42-1e6b46fb82f5"; // seu token

async function queueJobs() {
  for (const url of urls) {
    console.log(`‚è≥ Enfileirando jobs para URL: ${url}`);
    for (let i = 0; i < 1; i++) {
      try {
        const response = await axios.post(
          "http://localhost:3000/queue",
          {
            url,
            // webhookUrl: "https://attractive-woman-75.webhook.cool",
          },
          {
            headers: {
              Authorization: `Bearer ${AUTH_TOKEN}`,
            },
          },
        );
        console.log(`‚úÖ Job ${i + 1} para essa URL:`, response.data);
      } catch (error) {
        console.error(
          `‚ùå Erro no Job ${i + 1} para essa URL:`,
          (error as Error).message,
        );
      }
    }

    // Adiciona intervalo de 3 segundos entre cada URL
    await new Promise((resolve) => setTimeout(resolve, 1000));
  }

  console.log("üèÅ Todos os jobs enviados.");
}

queueJobs().catch((err) => {
  console.error("‚ùå Erro geral no stress test:", err);
});
